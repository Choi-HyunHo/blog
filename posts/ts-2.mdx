---
title: 한 입 크기로 잘라먹는 TS - 타입스크립트의 동작 원리
date: "2023-05-24"
description: 타입스크립트는 어떻게 동작할까 ❓
tag: TS
---

> 이정환 님의 [한 입 크기로 잘라먹는 타입스크립트](https://www.inflearn.com/course/%ED%95%9C%EC%9E%85-%ED%81%AC%EA%B8%B0-%ED%83%80%EC%9E%85%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8/) 를 수강한 내용 입니다.

## 대다수 언어들은 어떻게 동작할까 ?

먼저 대부분의 프로그래밍 언어는 사실 컴퓨터보단 인간에게 더 친화적입니다.

-   컴퓨터는 인간과는 달리 바이트코드나 기계어, 이진수 같은 아주 단순한 형태의 언어를 기반으로 동작 합니다.
-   따라서 영어의 문법과 비슷한 프로그래밍 언어를 컴퓨터가 바로 이해하고 실행 할 수는 없습니다.

그래서 컴퓨터에게 작성한 코드를 실행시키기 위해서 **컴파일** 이라는 과정을 지나갑니다.

## 컴파일 ?

![1](https://github.com/Choi-HyunHo/hyunho-gatsby-blog/assets/87301268/cc5cf221-655a-4a73-a702-393e3f8ef858)

컴퓨터는 우리가 작성한 코드를 실행하기 위해서 이 코드를 자기가 해석하기 쉬운 형태로 변환 하는데

-   이 과정을 우리는 변환한다 라고 해서 **컴파일** 이라고 부릅니다.

> 프로그래밍 언어로 작성한 코드를 컴파일 하면
> 코드가 컴퓨터가 이해할 수 있는 기계어 같은 형태로 변환됩니다.

## 컴파일러 ?

위와 같이 코드를 컴파일 하는 녀석을 **컴파일러** 라고 부릅니다.

-   자바나 자바스크립트같은 언어를 컴파일하면 바이트 코드라는 형식으로 변환됩니다.

![2](https://github.com/Choi-HyunHo/hyunho-gatsby-blog/assets/87301268/73a84e99-2799-4080-a4bb-3c9fc8f2a8b5)

## 컴파일러는 어떤 과정을 거쳐 컴파일 할까 ?

우선 컴파일러는 우리가 작성한 코드를 바로 바이트 코드로 변환하는게 아니라 그 전에 **AST(추상 문법 트리)** 라는 특별한 형태로 먼저 변환 합니다.

![3](https://github.com/Choi-HyunHo/hyunho-gatsby-blog/assets/87301268/8578e77e-d0c7-4149-8b1b-1a747813c81e)

## AST ?

그림처럼 코드의 공백이나 주석 탭 등의 코드 실행에 관계없는 그런 요소들은 전부 제거하고 **트리 형태의 자료구조**에 코드를 쪼개서 저장 해 놓은 그런 형태를 말합니다.

![4](https://github.com/Choi-HyunHo/hyunho-gatsby-blog/assets/87301268/824dfd94-ab3c-42be-8b51-f9e0a27c7b99)

왼쪽의 자바스크립트 코드를 AST 추상 문법 트리로 변환하면 오른쪽 처럼 바뀝니다.

위와 같이 코드를 AST로 변환하고 나면 이제 마지막으로

-   컴파일러가 AST를 바이트 코드로 변환하고 컴파일이 종료 됩니다.

![5](https://github.com/Choi-HyunHo/hyunho-gatsby-blog/assets/87301268/d06bd350-78d7-42a6-9109-74d6ae2254ad)

다음으로 타입스크립트의 동작 과정에 대해 살펴보겠습니다.

## 타입스크립트의 동작 과정

타입스크립트도 다른 언어와 마찬가지로 실행 하려면 컴파일 과정을 거쳐야 합니다.

## 1. 다른 언어와 동일하게 TS 코드를 → AST 로 변환 합니다.

![6](https://github.com/Choi-HyunHo/hyunho-gatsby-blog/assets/87301268/da76f932-e4d1-4abd-9573-f89e8f643153)

## 2. AST를 바이트 코드로 변환하는게 아니라 이 AST를 보고 코드 상에 타입 오류가 없는지 검사하는 타입 검사가 수행됩니다.

만약 코드에 타입 오류가 있다면 ?

-   타입 검사가 실패하고 컴파일이 중단 됩니다.

만약 코드에 타입 오류가 없다면 ?

-   타입 검사를 성공적으로 통과하고
-   그 후 AST 를 바이트 코드가 아니라 `자바스크립트 코드` 로 변환 합니다.
-   위의 과정까지 끝나고 컴파일이 종료 됩니다.

![7](https://github.com/Choi-HyunHo/hyunho-gatsby-blog/assets/87301268/0019332a-435d-4362-8ea1-834daa5ac54b)

## 3. 타입스크립트의 컴파일 결과로 만들어진 자바스크립트 코드를 Node.js나 웹브라우저로 실행하면 앞서 살펴본 대다수의 언어들과 동일한 과정을 거쳐 컴파일 되어 실행됩니다.

## ✅ 포인트

![8](https://github.com/Choi-HyunHo/hyunho-gatsby-blog/assets/87301268/89f2b4ba-6fdb-40d7-a7f3-6a150d19d8ec)

타입스크립트 코드의 컴파일 과정에 타입 검사가 포함되어 있기 때문에

타입 스크립트 코드를 컴파일 해서 생성한 자바스크립트 코드는 **타입 검사를 통과한 자바스크립트 코드** 입니다.

> 결과적으로 타입 오류가 발생할 가능성이 낮은 안전한 자바스크립트 코드

특징으로 타입스크립트에 작성된 타입 관련 코드들은

-   자바스크립트 변환 할 때 사라지게 되어 프로그램에 영향을 미치지 않습니다.

![9](https://github.com/Choi-HyunHo/hyunho-gatsby-blog/assets/87301268/339de4fe-146f-4c7a-8d72-ab18321d6737)

## 정리

타입스크립트는 **컴파일 결과** `타입 검사`를 거쳐 **자바스크립트 코드**로 변환되는데

이때 만약 코드에 오류가 있다면 컴파일 도중 실패하게 되므로 **자바스크립트를 보다 더 안전하게 사용**하는 미리 한번 코드를 검사하는 용도로 사용
