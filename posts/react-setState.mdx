---
title: ê°€ë” í—·ê°ˆë ¤ì„œ ë„ì ì—¬ë³´ëŠ” useStateì˜ ì˜ˆì‹œë“¤
date: 2023-08-22
description: ê¹Šì´ê°€ ê¹Šì„ìˆ˜ë¡ ì¢…ì¢… í—·ê°ˆë¦¬ëŠ”ì§€...
tag: React
---

### ì œëª© ê·¸ëŒ€ë¡œ ë©”ëª¨ì¥ ì…ë‹ˆë‹¤..ğŸ“

![](https://github.com/Choi-HyunHo/blog/assets/87301268/0b8de06f-7453-4840-a27e-069d99b791b6)

<br />

### ë‹¤ì–‘í•œ ê°’ì„ í•˜ë‚˜ì˜ stateë¡œ ì‚¬ìš©í•˜ê³ ì í•  ë•Œ ì˜ˆì‹œë“¤

```js
import React, { useState } from "react";

export default function MyComponent() {
    const [data, setData] = useState({
        users: [
            { id: 1, name: "Alice" },
            { id: 2, name: "Bob" },
        ],
        products: [
            { id: 101, name: "Product A" },
            { id: 102, name: "Product B" },
        ],
    });

    // Function to update both the users and products arrays
    const updateData = () => {
        setData((prevState) => ({
            ...prevState, // Spread the previous state to avoid mutation
            users: [
                ...prevState.users,
                { id: 3, name: "Charlie" }, // Add a new user
            ],
            products: [
                ...prevState.products,
                { id: 103, name: "Product C" }, // Add a new product
            ],
        }));
    };

    return (
        <div>
            <h1>Users:</h1>
            <ul>
                {data.users.map((user) => (
                    <li key={user.id}>{user.name}</li>
                ))}
            </ul>
            <h1>Products:</h1>
            <ul>
                {data.products.map((product) => (
                    <li key={product.id}>{product.name}</li>
                ))}
            </ul>
            <button onClick={updateData}>Add User and Product</button>
        </div>
    );
}
```

<br />

```js
import React, { useState } from "react";

export default function App() {
    const [person, setPerson] = useState({
        name: "Alice",
        job: "dev",
        friend: {
            name: "Bob",
            job: "designer",
        },
    });
    return (
        <div>
            <h1>
                {person.name}ëŠ” {person.job}
            </h1>
            <p>
                {person.name}ì˜ ì¹œêµ¬ {person.friend.name} ({person.friend.job})
            </p>
            <button
                onClick={() => {
                    const name = prompt(`ì¹œêµ¬ì˜ ì´ë¦„ì€?`);
                    setPerson((person) => ({
                        ...person,
                        friend: { ...person.friend, name },
                    }));
                }}
            >
                ì¹œêµ¬ ì´ë¦„ ë°”ê¾¸ê¸°
            </button>
            <button
                onClick={() => {
                    const job = prompt(`ì¹œêµ¬ì˜ ì§ì—…ì€?`);
                    setPerson((person) => ({
                        ...person,
                        friend: { ...person.friend, job },
                    }));
                }}
            >
                ì¹œêµ¬ ì§ì—… ë°”ê¾¸ê¸°
            </button>
        </div>
    );
}
```
